{% extends "generator/base.html" %}

{% block title %}Register - Pillars{% endblock %}

{% block content %}
<div class="top-bar">
    <h1>Register</h1>
</div>

<div class="section">
    <form method="post">
        {% csrf_token %}

        {% if form.errors %}
        <div class="danger-box">
            <p>Please correct the errors below.</p>
        </div>
        {% endif %}

        <div class="control-row">
            <label for="id_username">Username:</label>
            {{ form.username }}
        </div>
        {% if form.username.errors %}
        <div class="danger-box">{{ form.username.errors }}</div>
        {% endif %}
        <p class="help-text">{{ form.username.help_text }}</p>

        <div class="control-row">
            <label for="id_password1">Password:</label>
            {{ form.password1 }}
        </div>
        {% if form.password1.errors %}
        <div class="danger-box">{{ form.password1.errors }}</div>
        {% endif %}

        <div class="control-row">
            <label for="id_password2">Confirm Password:</label>
            {{ form.password2 }}
        </div>
        {% if form.password2.errors %}
        <div class="danger-box">{{ form.password2.errors }}</div>
        {% endif %}

        <hr style="margin: 20px 0; border-color: #555;">

        <div class="control-row">
            <label for="id_role">Role:</label>
            {{ form.role }}
        </div>
        {% if form.role.errors %}
        <div class="danger-box">{{ form.role.errors }}</div>
        {% endif %}

        <hr style="margin: 20px 0; border-color: #555;">
        <p style="color: #888; margin-bottom: 15px;">Optional contact info (for game notifications):</p>

        <div class="control-row">
            <label for="id_email">Email:</label>
            {{ form.email }}
        </div>
        {% if form.email.errors %}
        <div class="danger-box">{{ form.email.errors }}</div>
        {% endif %}

        <div class="control-row">
            <label for="id_phone">Phone (SMS):</label>
            {{ form.phone }}
        </div>
        {% if form.phone.errors %}
        <div class="danger-box">{{ form.phone.errors }}</div>
        {% endif %}

        <div class="control-row">
            <label for="id_discord_handle">Discord:</label>
            {{ form.discord_handle }}
        </div>
        {% if form.discord_handle.errors %}
        <div class="danger-box">{{ form.discord_handle.errors }}</div>
        {% endif %}

        <div class="control-row">
            <label for="id_preferred_contact">Preferred Contact:</label>
            {{ form.preferred_contact }}
        </div>
        {% if form.preferred_contact.errors %}
        <div class="danger-box">{{ form.preferred_contact.errors }}</div>
        {% endif %}
        <p class="help-text">{{ form.preferred_contact.help_text }}</p>

        <div class="button-group">
            <button type="submit" class="success">Create Account</button>
        </div>
    </form>

    <p style="margin-top: 20px;">
        Already have an account? <a href="{% url 'login' %}">Login here</a>
    </p>
</div>
{% endblock %}
