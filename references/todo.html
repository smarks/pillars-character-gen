<!-- title: Todo -->
<p>consistent movement rules</p>
<p>track gold add gold per year</p>
<p>spell track in handbook</p>
<p>track changes in characteristics.</p>
<p>skills don't persist  across adding experience</p>
<p>keep track skill points you can allocate</p>
<p>switch tracks</p>
<p>keep track of experience / available skill point</p>
<p>Angar is king of the mainland and claims proveance over all the splintering</p>
<p>cost of daggers vs other things like great swords</p>
<p>pack weight</p>
<p>adventure logs</p>
<hr>
<p>Code Review Summary</p>
<p>CRITICAL (Fix Now)</p>
<ol><li>Hardcoded SECRET_KEY fallback - settings.py:24-27 - should fail if not set in production</li><li>Git subprocess on every request - context_processors.py - should cache at startup</li></ol>
<p>HIGH (Fix Soon)</p>
<ol><li>DEBUG defaults to True - dangerous for production</li><li>Path traversal check is weak - views.py:1410-1412 - use pathlib.resolve() instead</li><li>Race condition in auto-save - character count isn't atomic</li><li>No models registered in admin</li></ol>
<p>MEDIUM (Technical Debt)</p>
<ol><li>index() view is 343 lines - needs to be split up</li><li>Duplicate consolidate_skills() - imported AND redefined locally</li><li>Inconsistent error handling - mix of JsonResponse, messages.error, Http404</li><li>No database indexes on frequently queried fields</li><li>Session data has no size limits</li><li>Missing CSRF verification on JSON endpoints</li></ol>
<p>LOW (Cleanup)</p>
<ol><li>Unused imports - Counter never used</li><li>Magic numbers - hardcoded 4, 1.5, 2 without constants</li><li>80+ lines of JS in templates - should be external files</li><li>No logging</li><li>Missing docstrings on many functions</li><li>CSS duplication across templates</li></ol>
<p>Security Gaps</p>
<ul><li>No rate limiting</li><li>No Content Security Policy</li><li>Markdown rendered without sanitization</li></ul>
<p>Testing Gaps</p>
<ul><li>build_final_str_repr() untested</li><li>Edge cases in skill consolidation</li><li>Race conditions in auto-save</li></ul>
<hr>
